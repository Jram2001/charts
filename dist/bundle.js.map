{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://MyChartLibrary/webpack/universalModuleDefinition","webpack://MyChartLibrary/./src/charts/pie-chart.ts","webpack://MyChartLibrary/webpack/bootstrap","webpack://MyChartLibrary/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MyChartLibrary\"] = factory();\n\telse\n\t\troot[\"MyChartLibrary\"] = factory();\n})(this, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pieChart = pieChart;\nlet canvas;\nlet options;\nlet ctx;\nlet total = 0;\nlet angles = [];\nfunction pieChart(element, chartOptions) {\n    canvas = element;\n    options = chartOptions;\n    if (canvas) {\n        setDefaultValues();\n    }\n}\nfunction setDefaultValues() {\n    ctx = canvas.getContext('2d');\n    canvas.style.transform = 'scale(0)';\n    total = options.data.reduce((acc, val) => acc + val, 0);\n    drawPieChart(-1);\n    // Mouse leave event\n    canvas.addEventListener('mouseout', () => {\n        drawPieChart(-1);\n    });\n    // Mouse move event\n    canvas.addEventListener('mousemove', (event) => {\n        handleMouseMove(event);\n    });\n    initialAnimation();\n}\nlet startAngle = 0;\nfunction drawPieChart(scaleIndex = -1) {\n    (angles === null || angles === void 0 ? void 0 : angles.length) ? angles.length = 0 : '';\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    startAngle = 0;\n    // Iterate through each data value to draw the corresponding pie chart segment\n    options.data.forEach((value, index) => {\n        // Calculate the end angle of the segment based on its proportion of the total\n        const endAngle = startAngle + (value / total) * 2 * Math.PI;\n        // Determine the radius of the segment, increasing its size if it's the hovered one (scaleIndex)\n        const radius = scaleIndex === index ? (canvas.height / 3) * 1.1 : (canvas.height / 3);\n        //Draw current section and update start angle\n        startAngle = drawSegment(scaleIndex, index, radius, endAngle);\n    });\n}\nfunction drawSegment(scaleIndex, index, radius, endAngle) {\n    ctx.fillStyle = options.colors[scaleIndex ? scaleIndex : index];\n    ctx.beginPath();\n    ctx.moveTo(canvas.width / 2, canvas.height / 2); // Center of the pie chart\n    if (radius > (canvas.height / 3)) {\n        drawScaleAnimation(radius, endAngle);\n    }\n    else {\n        ctx.arc(canvas.width / 2, canvas.height / 2, radius, startAngle, endAngle);\n    }\n    ctx.closePath();\n    ctx.fill();\n    angles.push({ start: startAngle, end: endAngle, color: options.colors[scaleIndex ? scaleIndex : index] });\n    return endAngle; // Return the updated angle\n}\nfunction handleMouseMove(event) {\n    const rect = canvas.getBoundingClientRect();\n    const mouseX = event.clientX - rect.left;\n    const mouseY = event.clientY - rect.top;\n    // Calculate the angle from the center of the pie chart to the mouse position\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n    const dx = mouseX - centerX;\n    const dy = mouseY - centerY;\n    // Calculate the mouse angle relative to the center, ensuring it's in the range [0, 2Ï€]\n    const mouseAngle = Math.atan2(dy, dx) > 0 ? Math.atan2(dy, dx) : Math.atan2(dy, dx) + 2 * Math.PI; // Normalize to [0, 2PI]\n    // Determine which segment the mouse is over\n    let hoveredIndex = -1;\n    angles.forEach((angle, index) => {\n        if (mouseAngle >= angle.start && mouseAngle < angle.end) {\n            hoveredIndex = index; // Set hovered index\n        }\n    });\n    // Redraw the pie chart with the hovered segment enlarged\n    drawPieChart(hoveredIndex);\n}\nfunction initialAnimation() {\n    let pos = 1;\n    var scaleAnimation = setInterval(animate, 10); // Continuously scale the canvas\n    function animate() {\n        if (pos >= (options.animationDuration ? options.animationDuration : 500)) {\n            clearInterval(scaleAnimation); // Stop the animation once pos reaches 500\n            pos = 0; // Reset pos (optional, depending on your needs)\n        }\n        else {\n            pos += 10;\n            canvas.style.transform = `scale(${pos / (options.animationDuration ? options.animationDuration : 500)})`; // Apply scaling\n        }\n    }\n}\nfunction drawScaleAnimation(radius, endAngle) {\n    console.log(angles, 'amgles');\n    radius = (canvas.height / 3);\n    let pos = 1;\n    var scaleAnimation = setInterval(animate, 1); // Continuously scale the canvas\n    function animate() {\n        if (pos >= (options.animationDuration ? options.animationDuration : 500)) {\n            clearInterval(scaleAnimation); // Stop the animation once pos reaches 500\n            pos = 0; // Reset pos (optional, depending on your needs)\n        }\n        else {\n            pos += 10;\n            ctx.arc(canvas.width / 2, canvas.height / 2, radius, startAngle, endAngle);\n            ctx.closePath();\n            ctx.fill();\n        }\n        radius = radius + (radius * 0.1 / (500 / 10));\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.intializeChart = intializeChart;\nconst pie_chart_1 = require(\"./charts/pie-chart\");\nconst charts = {\n    pieChart: pie_chart_1.pieChart\n};\nfunction intializeChart(element, chartOptions) {\n    if (chartOptions.chartType && charts[chartOptions.chartType]) {\n        charts[chartOptions.chartType](element, chartOptions);\n    }\n    else {\n        console.error('Provide a valide chart name');\n    }\n    console.log('consoled');\n}\n// Expose the function globally\nwindow.initializeChart = intializeChart;\n"],"names":["root","factory","exports","module","define","amd","this","canvas","options","ctx","Object","defineProperty","value","pieChart","element","chartOptions","getContext","style","transform","total","data","reduce","acc","val","drawPieChart","addEventListener","event","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","dx","width","dy","height","mouseAngle","Math","atan2","PI","hoveredIndex","angles","forEach","angle","index","start","end","handleMouseMove","pos","scaleAnimation","setInterval","animationDuration","clearInterval","initialAnimation","startAngle","scaleIndex","length","clearRect","endAngle","radius","fillStyle","colors","beginPath","moveTo","console","log","arc","closePath","fill","drawScaleAnimation","push","color","drawSegment","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","intializeChart","charts","chartType","error","window","initializeChart"],"sourceRoot":""}